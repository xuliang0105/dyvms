# 简介 {#concept_261502 .concept}

用户拨打配置智能语音交互呼入的号码发起呼叫后，通过智能语音交互呼入回调HTTP接口，接收通话过程中用户语音实时转写的文本消息，业务方把下一步的执行动作返回给语音平台，以此完成机器人与用户通话中的智能语音交互。

平台通过HTTP协议实时推送语音转写的文本时，即使用户无回复也会发送相应异常状态。在消息的响应中可以设置播放语音、终止播放当前语音、转接人工坐席、挂机等动作指示平台接下来的执行动作。

## 业务流程 {#section_nk6_yta_w3s .section}

使用智能语音交互呼入回调HTTP接口，请参考以下业务流程：

1.  平台设置。
    1.  在**通用管理** \> **服务开通**页面开启**智能语音交互通话呼入**。
    2.  在**通用管理** \> **呼入设置**页面为提供呼入服务的号码[添加呼入配置](#section_eek_aq0_7fi)。
    3.  [启用回调接口](#section_r5x_t3h_hhb)，设置回调地址。
2.  用户对指定号码发起呼叫。
3.  自动调用智能语音交互呼入回调HTTP接口，接收接收通话过程中用户语音实时转写的文本消息。
4.  业务方把下一步的执行动作返回给语音平台。

## 为指定号码添加呼入配置 {#section_eek_aq0_7fi .section}

购买号码后，如果确定通过该号码对望提供智能语音交互呼入服务，必须为该号码添加呼入配置，并设置配置类型为智能语音交互呼入。

1.  登录[语音服务控制台](https://dyvms.console.aliyun.com/dyvms.htm#/account)。
2.  在左侧导航栏中单击通用管理。
3.  在呼入设置页签中单击**添加指定号码呼入配置**。
4.  **配置类型**设置为**智能语音交互呼入**。
5.  根据实际情况选择**资质类型**、**使用公司**、**被叫号码**和**配置说明**。
6.  单击**确定添加**。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/215996/155797100746651_zh-CN.png)


## 启用回调接口 {#section_r5x_t3h_hhb .section}

使用智能外呼回调HTTP接口之前，需要先在控制台上开启订阅。

1.  登录[语音服务控制台](https://dyvms.console.aliyun.com/dyvms.htm#/account)。
2.  在左侧导航栏中单击通用管理。
3.  在订阅回执消息页签中找到**智能外呼ASR实时交互**。
4.  单击开启功能开关。
5.  根据页面提示设置响应信息。
6.  填写接收地址。

    此处填写的接收地址是固定接收地址，用于接收语音实时转文本结果并返回下一步执行动作。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/150139/155797100742288_zh-CN.png)

7.  单击**保存**。

## 回调接口规范 {#section_mrt_pgh_hhb .section}

|规范|说明|
|:-|:-|
|接口协议|HTTP|
|方式|POST|
|字符编码格式|UTF-8|

## 示例与参数 {#section_rgi_uc9_aqe .section}

智能语音交互呼入回调HTTP接口的请求示例、返回示例与对应参数请参考：

-   [首次呼入回调](cn.zh-CN/API参考/回调HTTP接口/智能语音交互呼入回调HTTP接口/首次呼入回调.md#)
-   [后续呼入回调](cn.zh-CN/API参考/回调HTTP接口/智能语音交互呼入回调HTTP接口/后续呼入回调.md#)

**说明：** 用户首次呼入时，请求参数中的content\_type为callin，表示用户拨打指定号码发起呼叫；后续呼入时，content\_type内容取决于消息类型，例如mute表示静音消息。

