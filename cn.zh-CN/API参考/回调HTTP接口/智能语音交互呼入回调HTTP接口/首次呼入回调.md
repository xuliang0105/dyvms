# 首次呼入回调 {#concept_265210 .concept}

阿里云接收到用户呼叫后首次请求与返回参数如下。

## 请求样例 {#section_dbg_4xx_upj .section}

``` {#codeblock_93q_9d5_yv3}
http://127.0.0.1/test?call_id=100001616500^100001871490&timestamp=1504174341229&content_type=callin&content={“caller”: “13711111111”,” callee”: “05711111111”,” orgcallee”: “057122222222” }
```

## 请求参数 {#section_to4_8t5_tqg .section}

|参数名称|参数类型|必填与否|示例|说明|
|----|----|----|--|--|
|call\_id|String|必须|123^321|呼叫的唯一ID。|
|content\_type|String|必须|callin|智能语音交互的类型，callin表示用户拨打指定号码发起呼叫。|
|content|JSON|必须|\{“caller”: “13711111111”,”callee”: “05711111111”,”orgcallee”: “057122222222”\}|具体的语音内容，JSON格式。 -   caller：呼入场景主叫号码。
-   callee：呼入场景被拨打的服务号码。
-   orgcallee：呼入场景下原始被叫号码。

 假设C为服务号码，用户B设置呼叫转移至号码C，用户A拨打号码B转接至C时，caller 为A、Callee为C、orgcallee为B。

 |

## 返回示例 {#section_q8r_1b4_94c .section}

以JSON格式为例，返回示例如下：

-   调用成功：

    ``` {#codeblock_kdj_55p_nva}
    {"result”: “success”, 	”msg”: “, 	”msg”: “成功”, 	“data”: { 		“call_id”: “100001616500 ^ 100001871490”, 		”action”: “answer”, 		”action_code”: “411111”, 		”session_timeout”: 180, 		”asr_model_id”: 1212312312, 		”asr_base_id”: “customer_service_8k”, 		”record_flag”: true, 		”mute_time”: 5000, 		”pause_time”: 100, 		”action_code_break”: true, 		”action_break”: true, 		”action_code_param”: “”, 		”action_code_time_break”: 120, 		”tts_conf”: true, 		”tts_style”: “xiaoyan”, 		”tts_volume”: 100, 		”tts_speed”: 0, 		”dynamic_id”: “xxxx” 	} }
    ```

-   调用失败：

    ``` {#codeblock_0f9_r3r_efd}
    {“result”:”fail”,”msg”:”fail reason”, “data”:{}}
    ```


## 返回参数 {#section_a6t_59p_eh8 .section}

|名称|格式|是否必填|示例|说明|
|--|--|----|--|--|
|call\_id|String|必须|B|这通呼叫的唯一ID|
|action|String|必须|play|下一步的动作： -   **answer**：开场白应答
-   **hangup**：挂机

 |
|session\_timeout|String|可选|120|最大通话时长，单位秒，超时后自动挂断|
|asr\_model\_id|String|可选|11323223q23e34|定制模型id，未指定时使用基础模型|
|asr\_base\_id|String|可选|11323223q23e34|基础模型|
|record\_flag|Boolean|可选|true|是否开启录音|
|mute\_time|Integer|可选|5000|静音时长，单位为毫秒|
|pause\_time|Integer|可选|500|断句时长，单位为毫秒|
|action\_code|String|可选|xxx.wav|放音文件|
|action\_code\_break|Boolean|可选|true|放音文件是否允许被打断|
|action\_break|Boolean|可选|true|是否打断当前的放音文件|
|action\_code\_param|Integer|可选|\{“name”:”喂，你好”\}|放音参数|
|action\_code\_time\_break|Integer|可选|120|基于用户持续说话时长打断，单位为毫秒。在ationCodeBreak为true时并且取值大于0时生效|
|dynamic\_id|String|可选|xxx|扩展字段|
|tts\_conf|Boolean|可选|true|TTS声音设置参数，为true时需要设置ttsStyle、ttsColume、ttsSpeed三个参数来设置声音风格 TTS变量播放时的声音风格|
|tts\_style|String|可选|xiaoyan|TTS变量播放时的声音风格|
|tts\_volume|String|可选|100|TTS变量播放时音量|
|tts\_speed|String|可选|0|TTS变量播放速度|

